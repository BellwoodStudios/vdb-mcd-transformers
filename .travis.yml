dist: trusty
language: go
go:
- 1.12
services:
- postgresql
addons:
  postgresql: '11.2'
go_import_path: github.com/vulcanize/mcd_transformers
before_install:
- make installtools
- bash ./scripts/install-postgres-11.sh
- curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add -
- echo "deb https://dl.yarnpkg.com/debian/ stable main" | sudo tee /etc/apt/sources.list.d/yarn.list
- sudo apt-get update && sudo apt-get install yarn
script:
- env GO111MODULE=on make test
- env GO111MODULE=on make integrationtest
notifications:
  email: false
env:
  matrix:
  - secure: Xv9dfWzuvcxbQXDOeYt4lrSlWE44GmD0jKvqQ51gRYq1ZxvycbY8IKd5Qzeto+/F0PLiw6H0nFlC9LsnT+7bbr1ZhCB4T/Z537X6Z5+q/A32O0VpC2sZ3VM75URxEu3bCe4P0+3nMmoNDqJ+C0maauXd0orq4+rhLxQYxs6BaOCR82A/JI0Lz1GftPTPBkaLA9setOTFO786PpHF7C6AVSjLiJychHlLD8T1QHlDxFo9Q2F3Uy3mFsMtddpri14uNhb0Dbi/x9XY5g0V4b5hFYEIChzXg/Jp67Pl71yUV6kmNecy0TbORtNkCunEdIM9BTti11fNLMQjcMr4fGBJfSJ4ImBk0YpeMKN1U3uH9JsyAZi5jHIJWiFYDAdKaG5+DMfaF5irppgBpw+l6I6vZorr8n/CiR1UT4Zz4uiHG7c+m+EaJyecVuR8VH/ft/n3ZWpOAQUAx90rA6Pxj3XBzL9Ntrircr/1S3qONMseKOWZDQh7d0Whl0rAli7zn/Mt8/eMcUpg90fWLA0dwgLyTtCecetCbsoqzEe5vE5YtSV2OpFqJUgXDAud+qqn5vQaPJwcJAopT2kuFyyq1OUYq21IC1iJ6cjrmJUrDRAWBuF0iHpMMtcwSIFy3up1iLJg1uaEQG0hYfhANNO6NSwRwGrzII3VUxUSqxsgHNNiw6Y=
